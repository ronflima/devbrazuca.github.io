<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Código que gera código: pra que serve?</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Código que gera código: pra que serve?</h1>
</header>
<section data-field="subtitle" class="p-summary">
O cinto de utilidades do developer
</section>
<section data-field="body" class="e-content">
<section name="7e0b" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8fd3" id="8fd3" class="graf graf--h3 graf--leading graf--title">Código que gera código: pra que serve?</h3><h4 name="aa1b" id="aa1b" class="graf graf--h4 graf-after--h3 graf--subtitle">O cinto de utilidades do developer</h4><figure name="401b" id="401b" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*69dARb-dbzH870iNhjLzbg.jpeg" data-width="620" data-height="349" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*69dARb-dbzH870iNhjLzbg.jpeg"></figure><p name="3577" id="3577" class="graf graf--p graf-after--figure">A ideia de escrever código que gera código não é, absolutamente, uma novidade. Analisadores léxicos como o <em class="markup--em markup--p-em">lex </em>e <em class="markup--em markup--p-em">flex</em>, e analisadores sintáticos como o <em class="markup--em markup--p-em">yacc</em> e o <em class="markup--em markup--p-em">bison</em> são exemplos clássicos de código que gera código. Mas, além de compiladores, há alguma utilidade nisso?</p><h4 name="898c" id="898c" class="graf graf--h4 graf-after--p">Por que gerar código?</h4><p name="87e2" id="87e2" class="graf graf--p graf-after--h4">A geração de código tem como base a ideia de economizar tempo do desenvolvedor quando há muito código <em class="markup--em markup--p-em">boiler plate</em> que precisa ser escrito. Por exemplo, as ferramentas de compilação da GNU podem gerar código quando fazem teste de capacidades do seu sistema, durante o estágio de configuração do seu código-fonte. Ou você pode criar código repetitivo com base em arquivos de configuração, ou ainda gerar o esqueleto de uma aplicação que utiliza um determinado framework ao invés de escrever código em cima de código que tem o mesmo formato.</p><p name="840f" id="840f" class="graf graf--p graf-after--p">Frameworks modernos usam um princípio chamado de <em class="markup--em markup--p-em">scaffolding</em>, ou seja, geram a base de código sobre a qual você construirá sua aplicação. Normalmente é código <em class="markup--em markup--p-em">boiler plate</em> para iniciar e configurar o framework, deixando os pontos de extensão prontos para você escrever. Com isto, você economiza tempo precioso no seu desenvolvimento.</p><h4 name="9d0a" id="9d0a" class="graf graf--h4 graf-after--p">O cinto de utilidades do developer</h4><p name="239e" id="239e" class="graf graf--p graf-after--h4">Cedo ou tarde todo developer começa a criar suas próprias ferramentas, além das que já usa no dia-a-dia. Trata-se de algo natural, na verdade. Porém, é preciso ter em mente que as ferramentas podem ter um papel mais importante do que simplesmente servir como um mero auxílio, podendo fazer parte do código <em class="markup--em markup--p-em">main stream </em>da sua empresa.</p><p name="797b" id="797b" class="graf graf--p graf-after--p">Por exemplo, você poderia fazer uma ferramenta para codificar todas as strings do seu software de forma a ofuscar seu conteúdo. Isto é particularmente útil em software instalável que utiliza-se de algum par usuário/senha ou chave de acesso para ativar end-points na internet. Afinal, toda string termina da <em class="markup--em markup--p-em">string table</em> do seu executável, algo que pode ser facilmente lido por ferramentas simples de desenvolvimento (como a <em class="markup--em markup--p-em">strings</em> da linha de comando dos sistemas *nix).</p><p name="c2b5" id="c2b5" class="graf graf--p graf-after--p">Assim, é importante dar a devida importância às ferramentas, controlando as versões das mesmas. Sim! Crie repositórios para salvá-las e evoluí-las. Afinal, software que gera software também é software!</p><h4 name="fd64" id="fd64" class="graf graf--h4 graf-after--p">Programação orientada a definição</h4><p name="6c04" id="6c04" class="graf graf--p graf-after--h4">Isto é muito comum no mundo java: você cria intermináveis arquivos de configuração que são usados para dar comportamento aos frameworks. Você pode fazer a mesma coisa: criar um arquivo CSV ou XML num determinado formato e usá-lo para alimentar sua ferramenta que criará o código para você. O código gerado pode ser um CRUD para entidades de dados, o scaffold para um recurso dentro de um serviço RESTful, e por aí vai.</p><p name="17f6" id="17f6" class="graf graf--p graf-after--p">Fica muito mais simples criar um arquivo de configuração do que escrever dezenas de linhas de código sempre que for criar algo novo no seu software. Faça a ferramenta fazer parte da build do seu software e <em class="markup--em markup--p-em">voilá</em>! Você ganhou tempo precioso no seu projeto.</p><h4 name="1553" id="1553" class="graf graf--h4 graf-after--p">Seja simples, mas evolua</h4><p name="9ac9" id="9ac9" class="graf graf--p graf-after--h4">Muitas das ferramentas que escrevi para criar código começaram como shell scripts simples e acabaram evoluindo para algo mais complexo. Em alguns casos, se tornaram executáveis mais parrudos por conta da performance que tornou-se necessária durante o build da aplicação final.</p><p name="fe6c" id="fe6c" class="graf graf--p graf-after--p">Assim o processo de build também iniciou-se simples e evoluiu para algo mais complexo: ao invés de build steps que chamavam apenas alguns shell scripts, era necessário construir as ferramentas primeiro para depois construir o código da empresa.</p><p name="e48f" id="e48f" class="graf graf--p graf-after--p">Porém, é importante ter em mente que isto precisa ser uma necessidade. Escrever um gerador de código só por que você achou bonito não é uma boa ideia. Ele precisa ser justificado: vai economizar tempo no seu processo de produção de software. E naturalmente evoluirá para algo mais complexo do que simples scripts executados durante a construção do seu software.</p><p name="effa" id="effa" class="graf graf--p graf-after--p graf--trailing">Porém, comece simples. O mais simples que puder. De preferência evitando dependências complexas, algo que pode dar bastante dor-de-cabeça para um developer <em class="markup--em markup--p-em">new-comer</em> que acabou de juntar-se à equipe. E documente bem o que está fazendo. Ou você será incapaz de tirar férias.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ronaldolima" class="p-author h-card">Ronaldo Faria Lima</a> on <a href="https://medium.com/p/3548929a3e84"><time class="dt-published" datetime="2018-11-25T20:32:56.832Z">November 25, 2018</time></a>.</p><p><a href="https://medium.com/@ronaldolima/c%C3%B3digo-que-gera-c%C3%B3digo-pra-que-serve-3548929a3e84" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 25, 2020.</p></footer></article></body></html>