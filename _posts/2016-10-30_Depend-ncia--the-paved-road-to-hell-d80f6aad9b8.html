<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Dependência: the paved road to hell</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Dependência: the paved road to hell</h1>
</header>
<section data-field="subtitle" class="p-summary">
Por que depender de bibliotecas externas de forma negligente é ruim
</section>
<section data-field="body" class="e-content">
<section name="6d29" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1334" id="1334" class="graf graf--h3 graf--leading graf--title">Dependência: the paved road to hell</h3><h4 name="31ec" id="31ec" class="graf graf--h4 graf-after--h3 graf--subtitle">Por que depender de bibliotecas externas de forma negligente é ruim</h4><figure name="88bd" id="88bd" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*p81_580mm2QvL3hBpHQn9A.jpeg" data-width="3992" data-height="2992" src="https://cdn-images-1.medium.com/max/800/1*p81_580mm2QvL3hBpHQn9A.jpeg"></figure><p name="6e04" id="6e04" class="graf graf--p graf-after--figure">Há alguns anos, quando a vida era mais simples, o software dependia de uma ou outra biblioteca, normalmente alguma que fazia parte de algum sistema operacional. Hoje em dia, com o aumento na complexidade e na sofisticação das plataformas e softwares não é incomum escrever código com uma pilha enorme de dependências.</p><p name="26ef" id="26ef" class="graf graf--p graf-after--p">Estava lendo este <a href="https://medium.freecodecamp.com/code-dependencies-are-the-devil-35ed28b556d#.75blw23sh" data-href="https://medium.freecodecamp.com/code-dependencies-are-the-devil-35ed28b556d#.75blw23sh" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">excelente artigo do Freecodecamp</a> e resolvi escrever sobre o assunto, embora focado no mundo <em class="markup--em markup--p-em">mobile, </em>especificamente para o desenvolvimento iOS. Quem trabalha com iOS gerencia as dependências do código ou com o <em class="markup--em markup--p-em">cocoapods</em> ou com o <em class="markup--em markup--p-em">carthage</em>. As dependências podem ser código-fonte, que constrói-se juntamente com o seu código, ou código binário, que é linkeditado ao seu executável final.</p><p name="cd2b" id="cd2b" class="graf graf--p graf-after--p">Durante o ciclo de vida do seu software, as dependências acabam se tornando uma dor-de-cabeça ao longo do tempo, principalmente se são descontinuadas pelo fabricante ou são modificadas de tal forma que várias funcionalidades são retiradas ou têm sua interface drasticamente modificada.</p><p name="809f" id="809f" class="graf graf--p graf-after--p">Ao depender de código externo você coloca, naturalmente, um risco no seu software. O risco é: e se esta dependência tiver um bug? No mundo do código aberto é simples: faça um fork no repositório do github e arrume o bug você mesmo, enviando ao autor o pull request. E se o autor morreu ou simplesmente abandonou o código? Bem, você se fodeu.</p><p name="e008" id="e008" class="graf graf--p graf-after--p">Se o autor for uma empresa que distribui a dependência na forma binária, a coisa é um pouco pior. E se a empresa quebrou ou foi comprada numa aquisição predatória, daquelas que existem para tirar os caras do mercado? Você se fodeu de novo.</p><p name="96ba" id="96ba" class="graf graf--p graf-after--p">Sim, reconheço o valor de usar código de terceiros, principalmente em funcionalidades comuns, como logins, integrações com redes sociais ou serviços externos. Porém, ao integrar funcionalidades oferecidas por código de terceiros ao segredo da sua aplicação, aquele código que é especifico para o que a sua aplicação faz, você aumenta o risco de ter de realizar um belo refactoring estilo <em class="markup--em markup--p-em">escreve tudo de novo</em> no futuro.</p><p name="3129" id="3129" class="graf graf--p graf-after--p">O que tenho visto, no geral, é que se usam dependências de forma negligente, como se o projeto fosse existir para o resto da vida, sendo mantido por programadores bonzinhos que não tem mais o que fazer da vida. Não é assim que funciona. Muitas vezes uma dependência vai ficar desatualizada e você se verá preso a ela.</p><p name="4f34" id="4f34" class="graf graf--p graf-after--p">Por exemplo, a Apple agora está com a moda de fazer upgrade de linguagem de programação. À medida em que o Swift evolui, a Apple sai mudando versão de compilador e o escambau. O detalhe é que cada nova versão do compilador não suporta a versão anterior da linguagem. Resultado: você precisa, necessariamente, migrar o raio da sua base de código inteira para a nova versão se quiser continuar no jogo. Porém, o que acontece se uma dependência sua está escrita em swift e o autor largou o código sem manutenção por mais de um ano no github?</p><p name="13c9" id="13c9" class="graf graf--p graf-after--p">Neste cenário de terror, é impossível migrar a sua aplicação sem migrar a dependência junto. Como você não tem controle sobre o código da dependência, e como provavelmente o autor do código não vai integrar seu pull request, o resultado é um só: ou você tira essa bosta do seu código ou você abraça o código inteiro, faz um fork e dá uma banana para o autor original, criando sua própria versão da dependência.</p><p name="95e9" id="95e9" class="graf graf--p graf-after--p">O problema é que hoje os programadores brasileiros vêem no código-fonte aberto uma forma de diminuir seu trabalho. São raros os que contribuem de volta nos projetos. Mais raros ainda os que participam ativamente dos projetos. O resultado deste comportamento é que o seu código vai ficar desatualizado por sabe-se Deus lá quanto tempo — provavelmente até a Apple parar de aceitar seus updates para subir na loja. Quando a Apple resolve que não vai mais aceitar seus binários, prepare-se para noites sem dormir para resolver este problema.</p><h4 name="2168" id="2168" class="graf graf--h4 graf-after--p">Dependa com consciência</h4><p name="f764" id="f764" class="graf graf--p graf-after--h4">Se for depender de uma biblioteca externa, faça-o com consciência. Escolha uma que é mantida por uma comunidade grande ou uma empresa grande. Se você encontrar um projeto que foi feito por uma pessoa apenas e ainda quiser usar o projeto como dependência, abrace o projeto.</p><p name="1559" id="1559" class="graf graf--p graf-after--p">Se o projeto for de código proprietário, tenha certeza de manter contato com o fabricante. Conheça-o. Ajude-o a manter o software reportando defeitos. Meu, você depende do diabo da biblioteca dos caras! Você acha que cruzar os braços quando achar uma merda vai te ajudar?</p><p name="a33a" id="a33a" class="graf graf--p graf-after--p">Ajudar a manter dependências aumenta sua carga de trabalho, sem dúvida. Mas aumenta seu <em class="markup--em markup--p-em">ownership</em> no código, bem como o seu domínio sobre a matéria. Isto beneficia você no futuro, pois terá visibilidade como mantenedor da biblioteca da qual o software da sua empresa depende.</p><p name="db08" id="db08" class="graf graf--p graf-after--p graf--trailing">Agora, se você simplesmente enfia a dependência na sua base de código e <em class="markup--em markup--p-em">foda-se</em>, bem… desculpe criticá-lo, mas você não tem responsabilidade com o seu trabalho nem com as consequências dele.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ronaldolima" class="p-author h-card">Ronaldo Faria Lima</a> on <a href="https://medium.com/p/d80f6aad9b8"><time class="dt-published" datetime="2016-10-30T21:20:28.923Z">October 30, 2016</time></a>.</p><p><a href="https://medium.com/@ronaldolima/depend%C3%AAncia-the-paved-road-to-hell-d80f6aad9b8" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 25, 2020.</p></footer></article></body></html>