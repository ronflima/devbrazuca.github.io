<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Diagramas orientados com Graphviz</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Diagramas orientados com Graphviz</h1>
</header>
<section data-field="subtitle" class="p-summary">
Ferramenta porreta!
</section>
<section data-field="body" class="e-content">
<section name="e740" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6e3d" id="6e3d" class="graf graf--h3 graf--leading graf--title">Diagramas orientados com Graphviz</h3><h4 name="50f7" id="50f7" class="graf graf--h4 graf-after--h3 graf--subtitle">Ferramenta porreta!</h4><figure name="e4f8" id="e4f8" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*S0UJuuv0e_WjkHoxlPD20A.png" data-width="800" data-height="456" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*S0UJuuv0e_WjkHoxlPD20A.png"></figure><p name="7b5b" id="7b5b" class="graf graf--p graf-after--figure">Se há algo chatíssimo de fazer é um diagrama, principalmente quando há elementos demais para tratar. Quando você precisa adicionar um elemento novo, então, é um Deus nos acuda! Se você usa um processador de textos, como o Word, é uma dor-de-cabeça sem fim: adicionou uma linha que seja e tudo sai de formatação.</p><p name="8414" id="8414" class="graf graf--p graf-after--p">O fato é que existe uma ferramenta, muito antiga, que dá conta do recado: <a href="https://www.graphviz.org/" data-href="https://www.graphviz.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Graphviz</a>! Esta ferramenta é, na verdade, um conjunto de intérpretes que executam uma linguagem simples, cujo resultado é um diagrama — orientado ou não. A principal vantagem é que a linguagem é um arquivo texto plano pé-de-boi. Mais simples impossível!</p><p name="a609" id="a609" class="graf graf--p graf-after--p">O resultado é um diagrama cujos elementos são automaticamente organizados. Assim, você não precisa ficar colocando cada elemento na mão, o que dá um trabalhão.</p><figure name="3b62" id="3b62" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><img class="graf-image" data-image-id="1*jJTt3LJr9y6a933R7R0XHA.png" data-width="1235" data-height="2049" src="https://cdn-images-1.medium.com/max/600/1*jJTt3LJr9y6a933R7R0XHA.png"><figcaption class="imageCaption">Diagrama de Dependências do Zewo — projeto original</figcaption></figure><p name="31fc" id="31fc" class="graf graf--p graf-after--figure">O diagrama ao lado é o grafo de dependências dos componentes do Zewo, um projeto open-source com o qual colaborei no passado. Se eu tivesse que fazer isso na mão, com um Word que seja, ou com qualquer editor de diagramas atual, teria arrancado os cabelos do sovaco para chegar neste resultado.</p><p name="4c7a" id="4c7a" class="graf graf--p graf-after--p">O Graphviz organiza os elementos de tal forma que o diagrama fique o mais legível possível. Assim, se você alterar alguma coisa, ele reposiciona cada elemento para você de forma simples e rápida.</p><p name="129f" id="129f" class="graf graf--p graf-after--p">A saída dos diagramas é você quem determina. Você pode gerar imagens desde JPGs e PNGs até formados mais exóticos como VRML ou XLIB. Sim, webp é suportado.</p><p name="673f" id="673f" class="graf graf--p graf-after--p">A linguagem é super simples e não tem segredo algum. Ela é baseada em nós em bordas por que considera que cada elemento é parte de um grafo, que pode ser orientado ou não. O utilitário principal é o DOT e aqui está um exemplo:</p><pre name="f839" id="f839" class="graf graf--pre graf-after--p">digraph EXAMPLE {<br>    A -&gt; B -&gt; C;<br>    C -&gt; A;<br>    C -&gt; END;<br>}</pre><p name="427f" id="427f" class="graf graf--p graf-after--pre">O resultado do processamento deste diagrama simples é este:</p><figure name="19c6" id="19c6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Q4yPZXfDIoHoMrALjBU21g.png" data-width="121" data-height="347" src="https://cdn-images-1.medium.com/max/800/1*Q4yPZXfDIoHoMrALjBU21g.png"></figure><p name="dd78" id="dd78" class="graf graf--p graf-after--figure">Agora, imagine que você queira que isso seja um diagrama de transição de estados:</p><pre name="855c" id="855c" class="graf graf--pre graf-after--p">digraph STATE {<br>    node [shape=&quot;box&quot;]<br>    START [shape=&quot;point&quot;, fillcolor=&quot;black&quot;, style=&quot;filled&quot;, height=&quot;.5&quot;];<br>    END [shape=&quot;doublecircle&quot;, fillcolor=&quot;black&quot;, style=&quot;filled&quot;, label=&quot;&quot;];<br>    START -&gt; A -&gt; B -&gt; C;<br>    C -&gt; A;<br>    C -&gt; END;<br>}</pre><p name="404f" id="404f" class="graf graf--p graf-after--pre">E o resultado:</p><figure name="de76" id="de76" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*eQy03ufCu6F-0cvVMf86zg.png" data-width="119" data-height="453" src="https://cdn-images-1.medium.com/max/800/1*eQy03ufCu6F-0cvVMf86zg.png"></figure><p name="dba0" id="dba0" class="graf graf--p graf-after--figure">Para entender melhor a linguagem, <a href="https://graphviz.gitlab.io/_pages/pdf/dotguide.pdf" data-href="https://graphviz.gitlab.io/_pages/pdf/dotguide.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">há um manual em PDF</a> no site da ferramenta. Você verá que a linguagem é simples, rápida de aprender e cujo efeito é fenomenal.</p><p name="ed29" id="ed29" class="graf graf--p graf-after--p">O interessante é que a grande maioria dos editores de textos feitos para programadores tem já a gramática da linguagem do DOT. Vim e Emacs são dois belos exemplos. E a aplicação está disponível na sua distro linux favorita, com versões disponíveis para macOS via <em class="markup--em markup--p-em">homebrew</em> e também para Windows. Se você usa o Windows, recomendo usar o Graphviz no WSL.</p><p name="cd34" id="cd34" class="graf graf--p graf-after--p">Tá aí. Acabou seu sofrimento com diagramas.</p><p name="065b" id="065b" class="graf graf--p graf-after--p graf--trailing">Happy Coding!</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ronaldolima" class="p-author h-card">Ronaldo Faria Lima</a> on <a href="https://medium.com/p/cb95ba687f45"><time class="dt-published" datetime="2019-12-15T18:59:30.193Z">December 15, 2019</time></a>.</p><p><a href="https://medium.com/@ronaldolima/diagramas-orientados-com-graphviz-cb95ba687f45" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 25, 2020.</p></footer></article></body></html>