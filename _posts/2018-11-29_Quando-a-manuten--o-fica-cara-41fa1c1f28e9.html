<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Quando a manutenção fica cara</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Quando a manutenção fica cara</h1>
</header>
<section data-field="subtitle" class="p-summary">
Uma estória de horror daquelas de deixar a gente sem dormir…
</section>
<section data-field="body" class="e-content">
<section name="9274" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f67c" id="f67c" class="graf graf--h3 graf--leading graf--title">Quando a manutenção fica cara</h3><h4 name="9632" id="9632" class="graf graf--h4 graf-after--h3 graf--subtitle">Uma estória de horror daquelas de deixar a gente sem dormir…</h4><figure name="2569" id="2569" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*qcvCiFjAnQl37dFwiUadaw.jpeg" data-width="1280" data-height="853" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*qcvCiFjAnQl37dFwiUadaw.jpeg"><figcaption class="imageCaption">Uma boa fundação faz a manutenção da obra ser mais barata</figcaption></figure><p name="b9e4" id="b9e4" class="graf graf--p graf-after--figure">Me lembrei de um caso que vale a pena compartilhar. Há alguns anos, quando eu tinha uma empresa de desenvolvimento de apps para iOS, fui procurado para resolver um problema em um app que estava com uma boa base de usuários mas não parava de ter esta base diminuída pela quantidade de problemas. Bugs em cima de bugs, travamentos, problemas diversos. O projeto, no entanto, era bastante pontual em termos de funcionalidades alteradas, mas havia uma questão: a fundação estava ruim.</p><h4 name="2ba4" id="2ba4" class="graf graf--h4 graf-after--p">A Fundação que Afunda</h4><p name="332e" id="332e" class="graf graf--p graf-after--h4">Todo software é construído por sobre dois tipos de requisitos: os requisitos funcionais, que são aqueles que o cliente precisa e solicitou; os requisitos não-funcionais, normalmente questões técnicas que surgem durante o desenvolvimento do software. Por exemplo, usar o banco de dados SQLite é um requisito não-funcional por que é uma decisão do desenvolvedor e não tem nenhum impacto, do ponto-de-vista de negócio, nos requisitos funcionais. Obviamente que o banco de dados tem impactos em segurança, performance, etc, mas estes impactos são técnicos e raramente um impacto técnico é uma expressão do negócio que precisa ser automatizado.</p><p name="834f" id="834f" class="graf graf--p graf-after--p">Todo requisito funcional é implementado usando uma série de serviços de suporte, seja para ler dados de um serviço RESTful, seja para ler e escrever dados em arquivos. Estes serviços de suporte, que implementam requisitos não-funcionais normalmente, são a fundação do seu software. Sem isso, não há como construir o código que implementará os requisitos funcionais. E é aqui que o chão afunda.</p><p name="97e9" id="97e9" class="graf graf--p graf-after--p">Sem uma boa arquitetura e organização, a base pode tornar-se frágil, com alto índice de acoplamento e com dependências temporais e funcionais tais que ao alterar um ponto do código, outro ponto que não deveria ser relacionado, começa a sofrer de bugs escandalosos e misteriosos. Ou seja, a fundação foi mal-feita. E quando isto acontece, qualquer manutenção no software, principalmente manutenções evolutivas, tornam-se uma tremenda dor-de-cabeça.</p><h4 name="bdb7" id="bdb7" class="graf graf--h4 graf-after--p">Alto custo de manutenção</h4><p name="6219" id="6219" class="graf graf--p graf-after--h4">Quando a base é ruim o resultado é apenas um: um altíssimo custo de manutenção. O problema clássico, e normalmente o mais abundante, é justamente o alto nível de acoplamento. Por que o acoplamento é ruim?</p><p name="b581" id="b581" class="graf graf--p graf-after--p">O acoplamento cria dependências intrínsecas entre cada componente do seu software. Um componente passa a depender de outro de tal forma que se um componente muda seu comportamento, efeitos negativos são sentidos em outras partes normalmente não relacionadas, funcionalmente falando.</p><p name="a8e3" id="a8e3" class="graf graf--p graf-after--p">Qualquer manutenção, portanto, torna-se um cobertor curto: se cobre os pés a cabeça fica de fora, se cobre a cabeça, os pés ficam de fora. Isto torna a tarefa de manutenção enfadonha, longa e, o que é o pior, cara.</p><h4 name="1eae" id="1eae" class="graf graf--h4 graf-after--p">Reengenharia ao resgate!</h4><p name="0f88" id="0f88" class="graf graf--p graf-after--h4">A melhor solução, para estes casos, é a reengenharia. Refactoring, revisão e reorganização dos modelos de dados são algumas das medidas para mitigar e, posteriormente, resolver este problema. Por que posteriormente?</p><p name="880b" id="880b" class="graf graf--p graf-after--p">Por que não dá para fazer tudo de uma vez. É anti-econômico e certamente você não terá tempo suficiente para fazer isso sem causar uma hecatombe na sua empresa.</p><p name="d421" id="d421" class="graf graf--p graf-after--p">Você ficará tentado a reescrever o código, mas <a href="https://ronaldolima.eti.br/vai-reescrever-o-código-mesmo-9f51e0faffb5" data-href="https://ronaldolima.eti.br/vai-reescrever-o-código-mesmo-9f51e0faffb5" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">afirmo que é uma péssima ideia</a>. Eu já fiz isso e perdi diversas noites de sono com um resultado final que apenas justificou o meu ego inflado. Infelizmente, o melhor aprendizado vem da dor. E esta doeu muito.</p><p name="bcc5" id="bcc5" class="graf graf--p graf-after--p">O melhor é planejar as mudanças de forma paulatina e incremental, procurando, a cada iteração do seu projeto, resolver um conjunto controlado de problemas. Você verá que trata-se de uma tarefa hercúlea. Afinal, toda a base do software foi criada de maneira inadequada e mudar isso é um trabalho cirúrgico, demorado e complicado. E a melhor forma, na minha opinião, é diluir o custo do desenvolvimento ao longo do ciclo de vida do seu software, melhorando-o a cada iteração.</p><h4 name="c564" id="c564" class="graf graf--h4 graf-after--p">O barato que saiu caro</h4><p name="9c60" id="9c60" class="graf graf--p graf-after--h4">Normalmente a fundação frágil de um software é fruto de mal planejamento no início do desenvolvimento. E este planejamento mal feito normalmente é fruto da economia na base da porcaria: usar um developer sem experiência e sem o devido treinamento para construir a base do software. A falta de conhecimento em modelamentos e arquitetura, normalmente, são as grandes culpadas pelas péssimas infra-estruturas de software.</p><p name="5b70" id="5b70" class="graf graf--p graf-after--p">Além disso, a <em class="markup--em markup--p-em">invenção de moda</em> é outra grande culpada: querer seguir pensamentos <em class="markup--em markup--p-em">mainstream</em> sem o devido cuidado, como usar metodologias reativas ou co-rotinas quando pouco se conhece das implicações técnicas destas linhas de pensamento. O resultado é uma infra-estrutura vulnerável, altamente intolerante a falhas. Falhou? Capotou. E dai que ficou <em class="markup--em markup--p-em">commit</em> pendente, dados no buffer que não foram pro disco?</p><p name="0fb9" id="0fb9" class="graf graf--p graf-after--p graf--trailing">A economia feita na equipe de desenvolvimento normalmente é o que leva a isto. Profissionais baratinhos, com pouca ou nenhuma experiência, com pouco conhecimento são os principais culpados pela baixa qualidade do software que sua empresa escreve.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ronaldolima" class="p-author h-card">Ronaldo Faria Lima</a> on <a href="https://medium.com/p/41fa1c1f28e9"><time class="dt-published" datetime="2018-11-29T09:38:24.444Z">November 29, 2018</time></a>.</p><p><a href="https://medium.com/@ronaldolima/quando-a-manuten%C3%A7%C3%A3o-fica-cara-41fa1c1f28e9" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 25, 2020.</p></footer></article></body></html>