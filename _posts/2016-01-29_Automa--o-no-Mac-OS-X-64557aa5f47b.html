<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Automação no Mac OS X</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Automação no Mac OS X</h1>
</header>
<section data-field="subtitle" class="p-summary">
Já há bastante tempo que descobri duas coisas fantásticas no Mac OS X. Uma é o automator e outra é o AppleScript. Comecei nesse mundo com o…
</section>
<section data-field="body" class="e-content">
<section name="96a5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4404" id="4404" class="graf graf--h3 graf--leading graf--title">Automação no Mac OS X</h3><figure name="90a7" id="90a7" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*laPZMVm2QI8SNy2D9QdZ_w.png" data-width="1024" data-height="1024" src="https://cdn-images-1.medium.com/max/800/1*laPZMVm2QI8SNy2D9QdZ_w.png"></figure><p name="f54b" id="f54b" class="graf graf--p graf-after--figure">Já há bastante tempo que descobri duas coisas fantásticas no Mac OS X. Uma é o <em class="markup--em markup--p-em">automator</em> e outra é o <em class="markup--em markup--p-em">AppleScript.</em> Comecei nesse mundo com o Snow Leopard, mas fui ter com o Automator e AppleScript apenas no Lion. Estas são duas ferramentas fantásticas para automação do sistema operacional e aqui listo os motivos pelos quais considero importante aprendê-las. Isso leva o usuário do Mac OS X para outro nível, pois tarefas repetitivas passam a ser automatizadas por essas ferramentas incríveis. O mais interessante é que tanto o Automator quanto o AppleScript estão inclusos no sistema da Apple gratuitamente, ou seja, você não precisa comprá-los como um app da App Store.</p><p name="efc9" id="efc9" class="graf graf--p graf-after--p">O Automator permite que você crie <em class="markup--em markup--p-em">fluxos de trabalho</em> facilmente. O fluxos de trabalho são pequenos programas que fazem determinadas tarefas. Por exemplo, eu tenho alguns fluxos de trabalho que, partindo de uma imagem, criam outras versões dessa mesma imagem em resoluções distintas. Esse fluxo é útil para resolver um problema que a Apple impõe a quem trabalha com iOS: é preciso ter diversas versões diferentes da mesma imagem para suportar diversos devices diferentes. Existe um app na AppleStore que faz isso, mas o Automator permite que você salve o fluxo de trabalho como um <em class="markup--em markup--p-em">serviço</em>. Os serviços do Finder se tornam itens de menu, seja do menu de contexto, seja do menu Serviços. Ou seja, o acesso é muito mais ágil.</p><figure name="49f1" id="49f1" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><img class="graf-image" data-image-id="1*JP2w-zVjDiB9nKPq1CZhSw.png" data-width="522" data-height="462" src="https://cdn-images-1.medium.com/max/600/1*JP2w-zVjDiB9nKPq1CZhSw.png"><figcaption class="imageCaption">Menu de contexto de um arquivo demonstrando os serviços</figcaption></figure><p name="3bad" id="3bad" class="graf graf--p graf-after--figure">No exemplo ao lado existe um serviço que criei chamado Arquivar Item. Este serviço cria um arquivo ZIP na pasta ~/archives cujo nome é <em class="markup--em markup--p-em">archive-YYYYMMDD.zip, </em>onde YYYY é o ano, MM o mês e DD o dia do arquivamento. Uso isso para arquivar coisas antigas que não precisam ficar dando sopa no meu HD. Transfiro para um HD externo.</p><p name="a8b3" id="a8b3" class="graf graf--p graf-after--p">Com o automator é possível criar fluxos simples que realizam tarefas enfadonhas, como organizar arquivos colocando um número sequencial no nome com um prefixo ou um sufixo bem definidos, enviar emails com arquivos anexados de forma automática, através de eventos de calendário e por aí vai. O bacana do Automator é que você faz isso sem escrever uma única linha de código.</p><p name="fd52" id="fd52" class="graf graf--p graf-after--p">Porém, quando você precisa de algo um pouco mais sofisticado, que exija algum tipo de análise que o automator não faz, é preciso usar AppleScript. Com o Mac OS X Mavericks já é possível criar scripts de automação usando javascript. Porém, gosto do AppleScript por que ele é divertido. A linguagem é verborrágica e curiosamente semântica. É fácil de aprender, no entanto, pois parece que você está conversando com o computador.</p><p name="d6bd" id="d6bd" class="graf graf--p graf-after--p">Você acessa o AppleScript no Editor de Scripts, que está na pasta Utilitários das suas Aplicações. Ele é simples de usar e a documentação da Apple é bastante abrangente, apesar de estar em inglês. Você consegue fazer coisas fantásticas com o AppleScript. Por exemplo, perdi um HD externo um dia desses e usei um software para recuperar meus arquivos. Havia uma biblioteca enorme de imagens que foi recuperada, mas várias imagens ficaram corrompidas. Seria humanamente impossível avaliar mais de 200 mil imagens para ver qual estava zoada. AppleScript para a salvação! Criei um script em minutos que avaliava imagem por imagem, eliminando as imagens corrompidas.</p><h4 name="2cc8" id="2cc8" class="graf graf--h4 graf-after--p">Qual a vantagem para os developers?</h4><p name="4a88" id="4a88" class="graf graf--p graf-after--h4">Se você desenvolve software usando a plataforma da Apple, essa tecnologia de automação é especialmente útil para você. Ao invés de depender de <em class="markup--em markup--p-em">task runners</em> como Grunt ou o próprio GNU Make, você pode usar essas tecnologias de automação para criar scripts especialmente úteis, até mesmo para automação de builds.</p><p name="828f" id="828f" class="graf graf--p graf-after--p">Em um projeto para iOS, usei um script que gerava arquivos de código e de cabeçalho (.m e .h respectivamente) com base em configurações colocadas em um PLIST. Essas configurações eram entry points de um web service e elas viravam constantes string geradas usando AppleScript. Durante o build, o script era disparado e gerava os arquivos intermediários necessários para a correta compilação do software.</p><p name="9373" id="9373" class="graf graf--p graf-after--p">Por que é vantajoso usar AppleScript? Por que ninguém precisa instalar absolutamente nada de novo na máquina. Um dos problemas atuais de automação de tarefas é justamente acertar não só o software necessário como também a versão desses software. Por exemplo, você pode usar um makefile que funciona com uma versão específica do GNU Make, o que te obriga a manter uma documentação atualizada para que outras pessoas consigam compilar o seu código adequadamente.</p><p name="d400" id="d400" class="graf graf--p graf-after--p graf--trailing">Bom, é isso aí. Happy Scripting!</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ronaldolima" class="p-author h-card">Ronaldo Faria Lima</a> on <a href="https://medium.com/p/64557aa5f47b"><time class="dt-published" datetime="2016-01-29T10:19:16.543Z">January 29, 2016</time></a>.</p><p><a href="https://medium.com/@ronaldolima/automa%C3%A7%C3%A3o-no-mac-os-x-64557aa5f47b" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 25, 2020.</p></footer></article></body></html>